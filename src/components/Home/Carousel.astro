---
import Button from 'components/ui/Button.astro'

const activities = [
  {
    image: 'img/Abhayashram-fabric_jewelry.jpg',
    caption:
      'Skill development fabric jewellery workshop for children at Vatsalya Abhayasharam',
  },
  {
    image: 'img/Abhayashram-hunger_relief.jpg',
    caption: 'Hunger-relief for children at Abhayasharam',
  },
]
---

<div
  id="home-activities-carousel"
  class="splide"
  aria-label="Recent activities"
>
  <div class="splide__track">
    <ul class="splide__list">
      {activities.map(activity => (
        <li class="splide__slide">
          <div class="splide__slide__container card">
            <img src={activity.image} />
            <div class="caption">
              {activity.caption}
            </div>
          </div>
        </li>
      ))}
    </ul>
  </div>
</div>
<div class="center">
  <Button kind="tertiary" href="/activities">More Stories</Button>
</div>

<script is:inline src="/js/splide.min.js"></script>
<script is:inline
  >new Splide('#home-activities-carousel', {
    type: 'loop',
    autoplay: true,
    interval: 4000,
  }).mount()</script
>

<style>
  img {
    border-top-left-radius: 0.375rem;
    border-top-right-radius: 0.375rem;
    max-width: 100%;
  }

  .caption {
    padding: 0.5rem;
    text-align: center;
  }

  .center {
    display: flex;
    justify-content: center;
  }
</style><style is:global>
  .splide {
    margin-bottom: 1rem;
  }

  .splide__arrow {
    background: var(--color-sec-bg);
    opacity: 1;
    width: 2rem;
    height: 2rem;
  }
  .splide__arrow:hover:not(:disabled) {
    filter: brightness(95%);
    opacity: 1;
  }
  .splide__arrow:active:not(:disabled) {
    filter: brightness(85%);
    opacity: 1;
  }

  .splide__track {
    margin-bottom: 0.5rem;
  }

  .splide__slide__container {
    margin: 0 3px 3px;
    padding: 0;
  }

  .splide__pagination {
    position: static;
  }
  .splide__pagination__page {
    background: #b9b9b9;
  }
  .splide__pagination__page.is-active {
    background: #3e3e3e;
  }
</style>
